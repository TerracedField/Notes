# 计算机网络第五次课后作业

**班级：2021 级软件工程（普通）2 班**

**学号：222021321262043**

**姓名：杨锦烨**

[toc]

## P1

由于使用了偶校验方案，在采用二维奇偶校验方案的情况下，最后一列和最后一行为校验位。使用最小长度检验和字段如下：

| 1    | 1    | 1    | 0    | 1    |
| ---- | ---- | ---- | ---- | ---- |
| 0    | 1    | 1    | 0    | 0    |
| 1    | 0    | 0    | 1    | 0    |
| 1    | 1    | 0    | 1    | 1    |
| 1    | 1    | 0    | 0    | 0    |

## P11

### a

A在时隙5首先成功的概率，这里翻译有点奇怪，理解为求节点A自身第一次成功发送分组是在时隙5的概率。

$P(A在一个时隙中成功发送分组) = p\cdot(1-p)^3$   （时隙5只有A发包，其余3个节点都不发包的概率）

随机变量X为A第一次发包成功的时隙数，X服从参数为$p\cdot(1-p)^3$的几何分布

$P(X = 5) = (1-p\cdot(1-p)^3)^4\cdot p\cdot(1-p)^3$

所以节点A在时隙5首先成功的概率为$(1-p\cdot(1-p)^3)^4\cdot p\cdot(1-p)^3$。

### b

$P(某个节点在时隙4中成功发送分组) = 4\cdot p\cdot(1-p)^3$

（相当于某个时隙中指定一个节点发送成功概率的4倍，即a中概率的4倍）

### c

$P(某个时隙中有节点成功发送分组) = 4\cdot p\cdot(1-p)^3$

$P(某个时隙中没有节点成功发送分组) = 1-4\cdot p\cdot(1-p)^3$

$P(时隙3中首次出现节点成功发送分组) = P(某个时隙中没有节点成功发送分组) ^2 \cdot P(某个时隙中有节点成功发送分组) = (1-4\cdot p\cdot(1-p)^3)^2 \cdot 4\cdot p\cdot(1-p)^3$

### d

效率 = $P(某个时隙中有节点成功发送分组) = 4\cdot p\cdot(1-p)^3$

## P14

设左侧路由器名为R1，右侧侧路由器名为R2，其左右接口名称如图：

![pic1](Pics\pic1.png) 

### a



| 接口名 | IP地址      |
| ------ | ----------- |
| A      | 192.168.1.1 |
| B      | 192.168.1.3 |
| C      | 192.168.2.1 |
| D      | 192.168.2.4 |
| E      | 192.168.3.1 |
| F      | 192.168.3.3 |
| G      | 192.168.1.2 |
| H      | 192.168.2.2 |
| I      | 192.168.2.3 |
| J      | 192.168.3.2 |

### b

| 适配器名 | MAC地址           |
| -------- | ----------------- |
| A        | 00-00-00-00-00-00 |
| B        | 11-11-11-11-11-11 |
| C        | 44-44-44-44-44-44 |
| D        | 66-66-66-66-66-66 |
| E        | 77-77-77-77-77-77 |
| F        | 99-99-99-99-99-99 |
| G        | 22-22-22-22-22-22 |
| H        | 33-33-33-33-33-33 |
| I        | 55-55-55-55-55-55 |
| J        | 88-88-88-88-88-88 |

### c

1. E由转发表确定数据报应路由到接⼝192.168.3.2（R2的右侧）
2. E中的适配器通过ARP寻址，创建一个⽬的MAC地址为88-88-88-88-88-88的以太⽹数据包并发送
3. R2接收数据包并提取数据报。此路由器中的转发表指⽰数据报将被路由到198.162.2.2
4. R2然后进行ARP寻址，创建⽬的MAC地址为33-33-33-33-33-33和源地址为55- 55-55-55-55-55的数据包，通过左侧IP地址为198.162.2.3的接口发送到R1为198.162.2.2的接口
5. R1接收数据包并提取数据报。此路由器中的转发表指⽰数据报将被路由到198.162.1.3
6. R1然后进行ARP寻址，创建⽬的MAC地址为11-11-11-11-11-11（此时的MAC地址才为B的地址）和源地址为22-22-22-22-22-22的数据包，通过左侧IP地址为198.162.1.2的接口发送到R1为198.162.1.3的接口
7. B接受数据包并提取数据报，检查到该帧的MAC地址与自身地址匹配，沿协议栈逐层上传数据包

### d

1. E由转发表确定数据报应路由到接⼝192.168.3.2（R2的右侧）
2. 主机E在⼴播以太⽹帧内发送ARP查询包
3. R2接收查询包并向主机E发送ARP响应包。此ARP响应包由以太⽹帧承载，⽬的MAC地址为 77-77-77-77-77-77
4. E中的适配器通过ARP寻址，创建一个⽬的MAC地址为88-88-88-88-88-88的以太⽹数据包并发送
5. R2接收数据包并提取数据报。此路由器中的转发表指⽰数据报将被路由到198.162.2.2
6. R2然后进行ARP寻址，创建⽬的MAC地址为33-33-33-33-33-33和源地址为55- 55-55-55-55-55的数据包，通过左侧IP地址为198.162.2.3的接口发送到R1为198.162.2.2的接口
7. R1接收数据包并提取数据报。此路由器中的转发表指⽰数据报将被路由到198.162.1.3
8. R1然后进行ARP寻址，创建⽬的MAC地址为11-11-11-11-11-11（此时的MAC地址才为B的地址）和源地址为22-22-22-22-22-22的数据包，通过左侧IP地址为198.162.1.2的接口发送到R1为198.162.1.3的接口
9. B接受数据包并提取数据报，检查到该帧的MAC地址与自身地址匹配，沿协议栈逐层上传数据包

（只加了2，3步，发ARP查询包并接受）

## P15

### a

不。因为它们不在同⼀个局域⽹内，E可以通过检查B的IP地址以得知。

E到F的以太⽹帧：

| 源IP      | 目的IP    | 源MAC      | 目的地MAC  |
| --------- | --------- | ---------- | ---------- |
| E的IP地址 | F的IP地址 | E的MAC地址 | F的MAC地址 |

### b

不。因为它们不在同⼀个局域⽹上。E可以通过检查B的IP地址以得知。

E到R1的以太⽹帧：

| 源IP      | 目的IP    | 源MAC      | 目的地MAC                        |
| --------- | --------- | ---------- | -------------------------------- |
| E的IP地址 | F的IP地址 | E的MAC地址 | R1与E所在子网连接的接⼝的MAC地址 |

### c

# c还没写
