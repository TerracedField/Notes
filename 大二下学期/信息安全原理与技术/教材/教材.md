# 教材

[toc]

## 第二章

### one-time pad

网址：[One Time Pad 一次性密码本](https://zhuanlan.zhihu.com/p/58751912)

keywords：

+ 香农		
+ 异或	
+ 一次一密

### 公钥加密算法（非对称式密码学）

是密码学的一种算法，它需要两个密钥，一个是公开密钥，另一个是私有密钥；公钥用作加密，私钥则用作解密。使用其中一个密钥把明文加密后所得的密文，只能用相对应的另一个密钥才能解密得到原本的明文；连最初用来加密的密钥也不能用作解密。由于加密和解密需要两个不同的密钥，故被称为非对称加密；不同于加密和解密都使用同一个密钥的对称加密。其中一个密钥可以公开，称为公钥，可任意向外发布；不公开的密钥为私钥，必须由用户自行严格秘密保管，绝不透过任何途径向任何人提供，也不会透露给被信任的要通信的另一方。

简单来说，非对称加密就是两个密码，公钥交给对方，私钥自己藏好，把想要传输的信息用私钥加密，然后交给对方，对方用公钥解密。

一般来说对称加密的效率要比非对称的高。

### CA

CA（Certificate Authority）是证书颁发机构，即颁发数字证书的机构，是负责发放和管理数字证书的权威机构。业界比较大的 CA 机构会被客户端软件广泛承认。比如一个浏览器承认某个 CA 的信用，就把这家机构的根证书（root certificate）内置在客户端当中，作为信任链的源头，后续的其他数字证书只要通过根证书的认证，就会认定为是可信的。根证书如何来判断是否信任某个数字证书？就得从数字证书的结构说起。

### 数字证书的认证

将网站改为 HTTPS 需要做的第一步就是申请一个数字证书放在 web 服务器下面。数字证书主要包括以下内容：

- 证书颁发机构的名称
- 证书持有者公钥
- 证书签名用到的Hash算法
- 有效期等等其他信息

这些内容都是明文，然后将明文通过摘要算法获取 hash，通过**证书颁发机构**的私钥进行非对称加密，得到签名信息，这个步骤叫做数字签名。明文+hash+数字签名共同组成了这个数字证书。

现在客户端拿到了这个数字证书，使用证书里说明的 hash 算法对明文进行摘要运算，得到的 hash 值应该和证书里是一样的。然后客户端会查询这个证书的颁发机构名称，从自己内置的信任列表里找该机构的证书，这里有两种情况：

1. 找到了，说明是自己信任的 CA 颁发的，从该机构的数字证书中可以找到证书的公钥，用这个公钥解密之前拿到的数字证书，如果能成功解密，证明证书可信。会添加到信任列表。
2. 没找到，也不一定说明证书是假的，因为数字证书是一条信任链，A 信任 B，B 信任 C，就算内置了 A ，也不能直接用 A 验证 C。所幸 C 的证书内容里会包含 B 的名称和地址，浏览器会自动去找 B 的证书，然后再看看 B 是否可信，直到达到了根节点。或者到了根节点仍然不可信，整个信任链就没有建立，所有证书被浏览器判断为不可信。

如此以来，数字证书的认证就完成了，有两个结果，浏览器信任证书和不信任证书。前者一般会有标示，比如 Chrome 浏览器会在地址栏有个小锁。后者就会提示连接有风险。

## 第六章

### WEP

WEP：一种无线数字通信协议

1. 加密密钥位数短（64/128，实际上40/104）
2. 采用静态密钥，很长一段时间才换
3. 加密算法弱，采用RC4
4. 完整性检查差，可以被恶意修改

### WPA

WPA：一种更好的无线数字通信协议

1. 加密密钥位数长（256位）
2. 采用非静态密钥
3. 加密算法弱，采用AES
4. 完整性检查好，防被恶意修改

### 重放攻击

网址：[重放攻击](https://www.jianshu.com/p/a810a6b14841)

重放攻击的基本原理就是把以前窃听到的数据原封不动地重新发送给接收方。很多时候，网络上传输的数据是加密过的，此时窃听者无法得到数据的准确意义。但如果他知道这些数据的作用，就可以在不知道数据内容的情况下通过再次发送这些数据达到愚弄接收端的目的。例如，有的系统会将鉴别信息进行简单加密后进行传输，这时攻击者虽然无法窃听密码，但他们却可以首先截取加密后的口令然后将其重放，从而利用这种方式进行有效的攻击。再比如，假设网上存款系统中，一条消息表示用户支取了一笔存款，攻击者完全可以多次发送这条消息而偷窃存款。

### SSL（Secure Socket Layer，安全套接层）

用户在html输密码后想要传密码到服务器

1. hash对密码进行加密
2. 建立一个安全通道（防攻击者监听）
3. 然后通过安全通道传hash过后的密码过去

### TLS（Transport Layer Security）

keywords：

+ SSL升级版
+ 多用对称（握手非对称用得多）

工作在应用层传输层之间。

#### 安全特性

+ 连接有机密性，

  ​	初始化连接后协商密钥，然后加密（用AES等算法）

+ 对端实体认证

  ​	可以采用对称密码，非对称密码两种

+ 连接可靠

  ​	会进行完整性检查

### DoS

[DOS攻击 DDOS攻击](https://zhuanlan.zhihu.com/p/79201759)

DoS是Denial of Service的简称，即拒绝服务，造成DoS的攻击行为被称为DoS攻击，其目的是使计算机或网络无法提供正常的服务。最常见的DoS攻击有计算机网络宽带攻击和连通性攻击。

比拼的还是带宽，server大于attacker肯定就无所谓了，小于服务其他customer效率下降。

`一对一`

#### smurf

有个Echo协议，可以把接受的信息原封不动地返回给发来的那个人

原理：攻击者向网络广播地址发送ICMP包，并将Echo的回复地址设置成受害网络的广播地址，通过使用ICMP应答请求数据包来淹没受害主机的方式进行，最终导致该网络的所有主机都对次ICMP应答请求作出答复，导致网络阻塞。

#### chargen

两个Echo循环发过来发过去，所谓振荡攻击。

#### Teardrop

发一堆不能被正确接受的包，比如包1：start = 10，len = 50，包2：start = 20，len = 800，这种连不起来的包，就去占用接受窗口

countermeasure：每过一段时间要求错的重发并清空缓存窗口



### DDos

分布式拒绝服务攻击(英文意思是Distributed Denial of Service，简称DDoS)是指处于不同位置的多个攻击者同时向一个或数个目标发动攻击，或者一个攻击者控制了位于不同位置的多台机器并利用这些机器对受害者同时实施攻击。由于攻击的发出点是分布在不同地方的，这类攻击称为分布式拒绝服务攻击，其中的攻击者可以有多个。

`多对一`

### 防火墙

#### 防火墙的类型

P313开始

+ 包过滤网关

  可以通过配置拒绝某些地址/大小/协议的包

+ 状态审查防火墙

  一个一个地审查每一个包，分析攻击信号、行为这些

+ 应用级网关

  使得应用软件仅接受正常的请求，过滤出一些异常的用户行为

+ 回路/闸道网关

  连接两个子网

+ 门卫

  更精细的防火墙

+ 个人防火墙

  运行在个人电脑上的防火墙

