作者是Jonghoon Shin、Sungjoon Kim、Jinmi Kim和Keunheung Park，他们分别来自韩国釜山的釜山国立大学杨山医院眼科、生物医学科学与技术融合研究所、釜山国立大学医学院眼科、釜山国立大学医院生物医学研究所临床试验中心以及釜山医疗中心眼科。

文章的关键词包括深度学习、光学相干断层扫描（OCT）和视野（VF）。文章的引用信息为：Shin J, Kim S, Kim J, Park K. Visual field inference from optical coherence tomography using deep learning algorithms: A comparison between devices. Transl Vis Sci Technol. 2021;10(7):4, https://doi.org/10.1167/tvst.10.7.4。

文章的目的在于开发一个深度学习模型，用于从频域光学相干断层扫描（SD-OCT）和扫频源OCT（SS-OCT）估计视野（VF），并比较它们之间的性能。

研究方法包括训练基于Inception-ResNet-v2的两个深度学习模型，从SS-OCT和SD-OCT图像中估计24-2 VF。通过使用实际视野和估计视野之间的均方根误差（root mean square error, RMSE）来评估两个模型的估计性能。此外，还比较了不同青光眼严重程度、Garway-Heath扇区划分以及中央/周边区域的性能。

研究结果表明，训练数据集包括来自2350名受试者的4391只眼睛的图像，测试数据集来自另外243名受试者（243只眼睛）。在所有受试者中，全局估计误差分别为SD-OCT的5.29±2.68 dB和SS-OCT的4.51±2.54 dB，SS-OCT的估计误差显著低于SD-OCT（P<0.001）。在扇区分析中，除了正常视力和早期青光眼中的下鼻扇区外，SS-OCT在所有扇区都显示出更好的性能。在晚期青光眼中，两种OCT的中央区域估计误差都恶化，但SS-OCT在周边区域仍然显著优于SD-OCT。

研究结论是，与SD-OCT的视网膜神经纤维层和神经节细胞-内丛状层图像相比，深度学习模型使用SS-OCT的宽视场图像能更好地估计24-2 VF。

翻译相关性：这种深度学习方法可以帮助临床医生从OCT图像中确定视野。OCT制造商可以配备这个系统来提供额外的视野数据。







## Introduction

为了检测视神经头（ONH）的青光眼损伤，通常会进行无红眼底摄影和光学相干断层扫描（OCT）。视野（VF）测试也是识别相应功能损伤的重要检查。然而，视野检查包含许多随机误差和波动，可能导致不准确的诊断。与视野检查相比，OCT操作简便，结果非常客观且高度可重复。如果我们能够从扫频源OCT（SS-OCT）估计视野，这将带来巨大的好处。

在许多先前的研究中，已经证明了区分正常视力和青光眼的诊断性能。频域OCT（SD-OCT）是传统时域OCT的改进版本，它提供了更高的扫描速率和更好的分辨率。SD-OCT的访问内和访问间重复性优于时域OCT，这表明了SD-OCT在监测青光眼进展中的潜在用途。SD-OCT的诊断能力也优于时域OCT。最近，开发了新一代的OCT，即扫频源OCT（SS-OCT）。这种技术允许临床医生获得高质量、宽角度的图像，包括整个视盘和黄斑区域，并且扫描速度快。先前的研究表明，使用SS-OCT测量的视盘旁视网膜神经纤维层（RNFL）和黄斑神经节细胞-内丛状层厚度的诊断能力与SD-OCT相当，并建议在青光眼患者中，SS-OCT的单次宽扫描可以替代单独的视盘旁和黄斑扫描。

随着深度学习算法的显著进步，已经有几项试验尝试基于OCT显示的结构损伤来估计视野。因为OCT测量的结构变化与视野检查中的功能变化密切相关，所以OCT图像被认为可以提供有用的数据来估计视野损伤。尽管这些研究发现使用OCT的深度学习系统在估计青光眼视野缺陷方面具有高精度，但没有报告直接比较用于估计视野缺陷的各种OCT的准确性。在深度学习方法中，有必要比较哪些数据表现出更高的估计准确性，因为选择数据的过程是提高准确性的一个重要因素。因此，我们决定SD-OCT或SS-OCT中的厚度图是否影响估计青光眼功能损伤的准确性。

本研究的目的是开发一种深度学习架构，从不同的OCT图像估计视野，并比较SD-OCT和SS-OCT图像之间的性能。我们构建了一个具有最先进深度学习架构的模型，并在全球和区域范围内比较了不同青光眼严重程度下的性能。

## Methods



这项回顾性研究是按照赫尔辛基宣言的原则进行的。该研究已获得韩国杨山釜山国立大学医院机构审查委员会的批准。由于研究的回顾性，机构审查委员会放弃了患者的同意。

所有训练和测试数据均收集自2015年至2019年间访问杨山釜山国立大学医院青光眼诊所的受试者。

在表1中，总结了训练数据集的人口统计特征。训练数据集中的图像总数为4391只眼睛，来自2350名受试者。在4391张训练图像中，2171张来自SD-OCT，2220张来自SS-OCT。平均年龄为61.4±17.0岁（SD-OCT）和61.4±13.7岁（SS-OCT）。与仅包含青光眼患者的测试数据集不同，训练数据集没有按诊断标签分类。因此，它不仅包含正常受试者，还包括患有青光眼和其他视神经病变的患者。然而，患有严重视网膜疾病或介质混浊（角膜混浊、白内障等）的眼睛被排除在外。

除了训练数据集外，还从另外243名受试者（243只眼睛）中获得了一个完全不同的测试数据集（表2）。为了更客观地评估性能，我们只从每位患者那里获得了一个眼睛数据集。测试组的所有受试者都在视野检查日期的6个月内进行了SD-OCT和SS-OCT检查。我们回顾性地审查了所有测试患者的医疗记录，以获得眼科检查的详细结果，包括年龄、性别、Goldmann压平眼压测量、屈光误差的球面等效（ARK-510A；日本NIDEK，广岛）、中央角膜厚度（Pachmate；美国宾夕法尼亚州Exton的DGH Technology）和眼轴长度（IOLMaster，爱尔兰都柏林的Carl Zeiss Meditec）。如果满足以下一个或多个标准，则定义为青光眼性视神经病变：杯盘比率垂直不对称0.2或更多，局部或弥漫性神经视网膜边缘变薄，局部凹陷，以及与视野缺陷相对应的视网膜神经纤维层（RNFL）缺陷。正常受试者定义为无眼科疾病史，眼内压低于21毫米汞柱，无青光眼性视盘外观，视野正常。为了确保代表疾病的全范围，正常受试者还包括那些临床上怀疑患有青光眼（基于视盘或RNFL外观或眼内压升高）但视野正常的患者。排除了有角膜或眼介质混浊、屈光误差±6.0屈光度或更多、非青光眼性视神经病变或近期眼科手术或创伤的患者。

### Zeiss SD-OCT

Cirrus SD-OCT仪器（Carl Zeiss Meditec）被用来获取黄斑神经节细胞-内丛状层和视盘旁视网膜神经纤维层（pRNFL）的厚度图。同时进行了两次连续的OCT检查，即6毫米×6毫米的黄斑立方体扫描200×200协议和6毫米×6毫米的视盘立方体200×200扫描，以获得黄斑神经节细胞-内丛状层和pRNFL的厚度图。为了质量控制，只使用了定义为具有最小信号强度6、没有非自愿的眼球运动或眨眼伪影，并且没有错位或分割失败的高质量扫描进行分析。

以黄斑为中心的扫描，进行了256次B扫描，每次B扫描包括512次A扫描，每体积总共131,072次轴向扫描。每次12×9毫米²扫描的扫描时间为1.3秒，这在之前已被证明足以获取完整的图像。排除了质量差（图像质量评分<40、聚焦不良或在黄斑扫描期间偏心）的图像，或者在分割失败后获取的图像，或者由于眼球运动或眨眼导致的伪影图像。内置的DRI-OCT-1软件（版本9.12）自动从内限制区域到视网膜神经节细胞和内丛状层的外边界识别RNFL的外边界。

###  VF Examination



所有训练和测试对象都使用Humphrey视野分析仪750i（Carl Zeiss Meditec）进行了视野测试，采用瑞典互动阈值算法24-2或30-2。在24-2测试模式的54个测试点中，排除了2个生理盲点，剩余的52个测试点的总阈值被用作训练和测试集的真实视野数据。适当的可靠性定义为假阳性率小于33%，假阴性率小于33%，以及注视丢失小于20%。正常视野被定义为视野半侧测试在正常范围内，且平均偏差（MD）和模式标准差（PSD）在Humphrey视野分析仪的95%正常数据库内。青光眼视野被定义为至少满足以下标准之一：视野半侧测试超出正常范围和/或PSD概率超出Humphrey视野分析仪95%正常数据库。青光眼的严重程度由视野的MD决定：早期大于-6 dB，中度至重度（晚期）-6 dB或更低。为了在不同区域评估性能，我们根据两种不同的方法将52个视野测试点映射出来。首先，使用了Garway-Heath扇区划分方法，这种方法将视野测试点分配到相应的视神经头扇区，已知对分析结构-功能关系很有用。第二种方法是中心和周边映射，中心区域包含与视野10-2点重叠的测试点，周边区域包含中心区域之外的其余测试点。



###  Input ImageGeneration

我们开发了自定义的Windows软件，使用Microsoft Visual Studio 2015和C#语言以及dot net库来生成组合输入图像。我们的自定义软件使用了从Zeiss SD-OCT导出的两个报告图像：（1）双眼的神经节细胞分析：6毫米×6毫米的黄斑立方体200×200，以及（2）双眼的视神经头和视网膜神经纤维层（RNFL）分析：视盘立方体200×200协议。该自定义软件通过从预定义位置开始搜索蓝色图像的矩形边界，自动检测这些蓝色调厚度图的位置，并将它们裁剪和组合在一起（见图1左）。另一款针对SS-OCT的自定义软件裁剪了SS-OCT报告图像中的神经节细胞层厚度图和RNFL厚度图，并将它们组合在一起（见图1右）。所有左眼图像都被水平翻转以匹配右眼格式。



### Deep-Learning Architectures and Training

使用了开源的深度学习库Keras，它运行在TensorFlow后端（Google，Mountain View, CA）的Python（版本3.5）API r1.10上。安装了CUDA toolkit 9.0和cuDNN 7.0库，以利用GPU的计算能力。用于训练和测试运行的硬件环境包括Intel i5-8400 CPU、32 GB RAM和GeForce Titan XP（NVIDIA，Santa Clara, CA）。用于估计总阈值的最终深度神经网络架构如图1所示。Google的最先进的卷积神经网络（CNN）架构InceptionResnet V2被用作架构开始时的骨干结构，以提取全局特征。在InceptionResnet V2骨干的瓶颈层中，通过一个全局平均池化层和四个连续的全连接层（图1中的密集层1-4）进行了修改。在所有4个密集层中，都使用了ReLU（修正线性单元）作为激活函数。尺寸为322×161（宽×高）的SD-OCT或480×200（宽×高）的SS-OCT的组合OCT图像被送入CNN架构的输入层。InceptionResnet V2骨干架构的输出产生了形状为3×8×2048（高×宽×深度）的全局特征。全局平均池化层将Inception骨干的输出展平，并平均了2048个特征。四个密集层逐渐将这些特征压缩成52个最终输出值，对应于52个总阈值（排除了两个生理盲点的估计）。在开始训练之前，下载了在ImageNet数据集上预训练的InceptionResnet，并应用了它。在训练过程中没有冻结任何层，并且所有层都进行了微调。训练数据记录以9:1的比例随机分为训练和验证数据集，并以64的批次提供给神经网络。优化器是“rmsprop”，损失函数是“均方误差”。通过参考训练集和验证集的损失趋势来监控训练。当在100个周期内没有观察到进一步的性能提升时，训练结束。为了防止过拟合，使用了重复的随机子采样交叉验证技术。训练数据再次以9:1的比例随机分割，加载了最后训练的权重文件，并继续训练，直到在100个周期内没有观察到进一步的性能提升。这个过程重复了五次。



## 理解

SD-OCT和SS-OCT是两种扫描形式，这篇说前者要好点

还是用了RNFL的矩形热力图的数据













