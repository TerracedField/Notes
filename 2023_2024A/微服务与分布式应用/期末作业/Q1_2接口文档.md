# 接口文档

[toc]

Base URLs:  *localhost:80*87

## 接口描述

1. **技术资源上传接口**
   - **描述：** 提供用户提交技术资源的接口，如上传资源过大则返回错误提示。
   - **限流策略：** 由于提交技术资源可能需要较长时间的处理，设置较宽松的限流策略，每秒允许处理10个请求，以确保及时响应用户提交的请求。
   - **路径：**/upload
2. **技术资源下载接口**
   - **描述：** 用户可以通过该接口检索平台上的知识库内容，包括技术文档、案例分析等。
   - **限流策略：** 考虑到知识库检索接口可能会频繁被调用，设置较宽松的限流策略，每秒允许处理20个请求，以提供良好的用户体验。
   - **路径：**/download
3. **专家咨询预约接口**
   - **描述：** 用户可以通过该接口预约专家咨询服务。
   - **限流策略：** 由于专家咨询可能需要占用专家的时间，设置较为严格的限流策略，每秒允许处理1个请求，以平衡用户需求和专家资源的利用。4
   - **路径：**/expert

## POST 上传技术资源

POST upload

> Body 请求参数

```yaml
resource_id: "1"
donor_user_id: "1"
text_file: file://C:\Users\YANAGISAWA\Desktop\天龙八部释名.txt
```

### 请求参数

| 名称            | 位置 | 类型    | 必选 | 说明           |
| --------------- | ---- | ------- | ---- | -------------- |
| body            | body | object  | 否   | none           |
| » donor_user_id | body | integer | 是   | 资源贡献用户id |
| » text_file     | body | file    | 是   | 技术资源文件   |

> 返回示例

> 200 Response

### 返回结果

| 状态码 | 状态码含义                                              | 说明         | 数据模型 |
| ------ | ------------------------------------------------------- | ------------ | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | 成功         | Inline   |
| 429    |                                                         | 请求次数过多 |          |

### 返回数据结构

Raw：success（上传成功）

Raw：fail（文件过大，上传失败）

## GET 下载技术资源

GET /download

> Body 请求参数

```yaml
resource_id: "1"
```

### 请求参数

| 名称          | 位置  | 类型    | 必选 | 说明   |
| ------------- | ----- | ------- | ---- | ------ |
| resource_id   | query | integer | 是   | 资源id |
| body          | body  | object  | 否   | none   |
| » resource_id | body  | integer | 是   | 资源id |

> 返回示例

> 200 Response

### 返回结果

| 状态码 | 状态码含义                                              | 说明         | 数据模型 |
| ------ | ------------------------------------------------------- | ------------ | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | 成功         | Inline   |
| 429    |                                                         | 请求次数过多 |          |

### 返回数据结构

Raw：success（下载成功）+ File（下载的文件）

Raw：fail（下载失败）

## GET 预约专家

GET/expert

> Body 请求参数

```yaml
user_id: "1"
expert_id: "1"
```

### 请求参数

| 名称        | 位置 | 类型    | 必选 | 说明   |
| ----------- | ---- | ------- | ---- | ------ |
| body        | body | object  | 否   | none   |
| » user_id   | body | integer | 是   | 用户id |
| » expert_id | body | integer | 是   | 专家id |

> 返回示例

> 200 Response

### 返回结果

| 状态码 | 状态码含义                                              | 说明         | 数据模型 |
| ------ | ------------------------------------------------------- | ------------ | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | 成功         | Inline   |
| 429    |                                                         | 请求次数过多 |          |

### 返回数据结构

Raw：success（预约成功）

Raw：fail（预约失败）